<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Shitty Routine</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/daisyui"></script>
  <style>
    /* Dark anime theme styles */
    body {
      background-image: url('https://wallpaperaccess.com/full/1982622.jpg');
      /* Dark anime wallpaper */
      background-size: cover;
      background-attachment: fixed;
      font-family: 'Comic Sans MS', 'Comic Sans', cursive;
      color: #E0E0E0;
    }

    .card {
      background-color: rgba(20, 20, 20, 0.85);
      /* Darker semi-transparent card */
      backdrop-filter: blur(10px);
      border: 2px solid #002169;
    }

    .card-title {
      color: #baffe2;
      /* Orange anime title color */
      font-size: 1.5rem;
    }

    .glow {
      box-shadow: 0 4px 10px #02228b80;
      /* Subtle red glow for anime look */
      transition: transform 0.3s, box-shadow 0.3s;
    }

    .glow:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 20px rgba(0, 51, 146, 0.8);
      /* Glowing hover effect */
    }

    .btn {
      background-color: #2A2A2A;
      /* Dark gray anime button */
      color: #d6ffcc;
      /* Orange text */
      border: 2px solid #808080;
    }

    .btn:hover {
      background-color: #a9e7ff;
      /* Fiery orange hover */
      color: rgb(0, 0, 0);
      border: 2px solid #a9e7ff;
    }

    header {
      background: linear-gradient(to right, #191142, #030b88);
    }

    footer {
      background: linear-gradient(to right, #0b1f61, #055a1f);
    }

    #clock {
      font-size: 1.5rem;
      color: #00FFFF;
      /* Cyan glowing clock */
    }

    input,
    textarea {
      background-color: #333;
      /* Dark input background */
      color: #E0E0E0;
      /* Light text color */
      border: 1px solid #555;
    }

    input:focus,
    textarea:focus {
      outline: none;
      border-color: #00ff9d;
      /* Highlighted border on focus */
    }

    /* Popup styles */
    #instructionPopup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      display: none;
      /* Initially hidden */
      background-color: rgba(20, 20, 20, 0.9);
      backdrop-filter: blur(10px);
      border: 2px solid #002169;
      z-index: 1000;
    }

    .popup-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.7);
      z-index: 999;
      display: none;
      /* Initially hidden */
    }
  </style>
</head>

<body class="bg-gray-900">
  <header class="text-center py-5">
    <h1 class="text-4xl font-bold">My Shitty Routine</h1>
    <div class="flex justify-center items-center space-x-2 mt-3">
      <p class="text-lg">Current Time: <span id="clock" class="font-bold"></span></p>
    </div>
  </header>

  <main class="p-6">
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6" id="routine-cards">
      <!-- Routine Cards will be dynamically added here -->
    </div>
<main class="p-6">
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6" id="routine-cards">
    <!-- Routine Cards will be dynamically added here -->
  </div>

  <!-- Plus Button -->
  <div class="flex justify-center mt-6">
    <button id="add-card-btn" class="btn glow bg-blue-600 text-white p-3 rounded-full text-2xl">+</button>
  </div>
</main>


    <!-- show example~ -->
    <div class="mt-10">
      <h1 class="text-3xl mb-7 text-center text-green-400">For Example</h1>
      <img class="border-slate-200 border opacity-40"
        src="https://scontent.fdac138-1.fna.fbcdn.net/v/t1.15752-9/462538137_1593945611554676_5755598534397555487_n.png?_nc_cat=108&ccb=1-7&_nc_sid=9f807c&_nc_ohc=OlYCQG6jZKYQ7kNvgE7Wvs7&_nc_zt=23&_nc_ht=scontent.fdac138-1.fna&_nc_gid=AgpOPJgkHS_hm7LIPxiWLl9&oh=03_Q7cD1QGRUD99c00HWFn8iUPCMCTVve_eBwM5TGV-vawNAE4gkg&oe=67367858"
        alt="">
    </div>

    
  </main>

  <!-- Footer -->
  <footer class="text-center py-5 text-white">
    <p>Created with ðŸ’© by Doraemon</p>
  </footer>

  <!-- Instructions Popup -->
  <div class="popup-overlay" id="popupOverlay"></div>
  <div class="card" id="instructionPopup" style="width: 300px;">
    <div class="card-body">
      <h2 class="card-title">Instructions</h2>
      <p><strong>1. View Your Routine:</strong> The app displays your daily routine in card format with title, time, and
        description.</p>
      <p><strong>2. Edit Your Routine:</strong> Click <strong>Edit</strong> on any card to modify details and click
        <strong>Save</strong> to update.</p>
      <p><strong>3. Current Time:</strong> The current time is displayed at the top, updating every second.</p>
      <p><strong>4. Instructions Popup:</strong> You can view these instructions anytime. If you check the box, you
        wonâ€™t see them again.</p>
      <p><strong>5. Local Storage:</strong> Your routine is saved in your browser's local storage for easy access.</p>
      <p><strong>6. Responsive Design:</strong> The app is mobile-friendly for access on any device.</p>
      <label class="flex items-center">
        <input type="checkbox" id="neverShowAgain" class="mr-2">
        <span>Never show this again</span>
      </label>
      <div class="card-actions justify-end">
        <button class="btn" id="closePopup">Close</button>
      </div>
    </div>
  </div>
  
<!--hjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj  -->
  <script>
  function addNewCard(routine) {
    const newRoutine = { title: "New Routine", time: "00:00", duration: 60, description: "Describe your routine here." };
    routine.push(newRoutine);
    saveRoutine(routine);
    renderRoutineCards(routine);
  }

  document.addEventListener("DOMContentLoaded", () => {
    const routine = loadRoutine();
    renderRoutineCards(routine);

    // Event listener for adding new routine card
    const addCardBtn = document.getElementById("add-card-btn");
    addCardBtn.addEventListener("click", () => addNewCard(routine));
  });
</script>
<!--hjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj  -->

  <!-- JS for Clock, Routine Edit Feature, and Popup -->
  <script>
    const routineData = [
      { title: "Start my day", time: "09:00", duration: 60, description: "All morning activities like breakfast, getting fresh, etc." },
      { title: "ADD", time: "ADD", duration: 160, description: "ADD" },
      { title: "ADD", time: "ADD", duration: 60, description: "ADD" },
      { title: "ADD", time: "ADD", duration: 90, description: "ADD" },
      { title: "ADD", time: "ADD", duration: 60, description: "RADD" },
      { title: "ADD", time: "ADD", duration: 30, description: "ADD" },
      { title: "ADD", time: "ADD", duration: 80, description: "ADD" },
      { title: "ADD", time: "ADD", duration: 120, description: "ADD" },
      { title: "ADD", time: "ADD", duration: 30, description: "ADD" },
      { title: "ADD", time: "ADD", duration: 60, description: "ADD" }
    ];

    function loadRoutine() {
      const storedRoutine = JSON.parse(localStorage.getItem('routine'));
      return storedRoutine || routineData;
    }

    function saveRoutine(routine) {
      localStorage.setItem('routine', JSON.stringify(routine));
    }

    function renderRoutineCards(routine, isEditable = false) {
      const routineCardsContainer = document.getElementById("routine-cards");
      routineCardsContainer.innerHTML = ''; // Clear previous content

      routine.forEach((item, index) => {
        const card = document.createElement("div");
        card.className = "card glow bg-base-100 shadow-xl p-4";

        const cardBody = document.createElement("div");
        cardBody.className = "card-body";

        const cardTitle = document.createElement("h2");
        cardTitle.className = "card-title";

        const timeElement = document.createElement("p");
        timeElement.className = "text-sm text-gray-400";

        const descElement = document.createElement("p");

        if (isEditable) {
          // Editable Inputs
          cardTitle.innerHTML = `<input type="text" class="input input-bordered w-full" value="${item.title}">`;
          timeElement.innerHTML = `<input type="text" class="input input-bordered w-full" value="${item.time}">`;
          descElement.innerHTML = `<textarea class="textarea textarea-bordered w-full">${item.description}</textarea>`;
        } else {
          // Read-Only Text
          cardTitle.textContent = item.title;
          timeElement.textContent = item.time;
          descElement.textContent = item.description;
        }

        const cardActions = document.createElement("div");
        cardActions.className = "card-actions justify-end";

        const editButton = document.createElement("button");
        editButton.className = "btn";
        editButton.textContent = isEditable ? "Save" : "Edit";

        const deleteButton = document.createElement("button");
        deleteButton.className = "btn btn-error ml-2"; // Styling delete button
        deleteButton.textContent = "Delete";

        deleteButton.addEventListener("click", () => {
          // Remove the card from the routine array
          routine.splice(index, 1);
          saveRoutine(routine); // Update local storage
          renderRoutineCards(routine); // Re-render the cards
        });

        editButton.addEventListener("click", () => {
          if (isEditable) {
            // Save changes
            const updatedTitle = cardTitle.querySelector("input").value;
            const updatedTime = timeElement.querySelector("input").value;
            const updatedDesc = descElement.querySelector("textarea").value;

            routine[index] = { title: updatedTitle, time: updatedTime, description: updatedDesc };
            saveRoutine(routine);
            renderRoutineCards(routine);
          } else {
            renderRoutineCards(routine, true);
          }
        });

        cardActions.appendChild(editButton);
        cardActions.appendChild(deleteButton); // Append delete button to actions
        cardBody.appendChild(cardTitle);
        cardBody.appendChild(timeElement);
        cardBody.appendChild(descElement);
        cardBody.appendChild(cardActions);
        card.appendChild(cardBody);
        routineCardsContainer.appendChild(card);
      });
    }

    function showInstructionPopup() {
      const overlay = document.getElementById("popupOverlay");
      const popup = document.getElementById("instructionPopup");

      overlay.style.display = "block"; // Show overlay
      popup.style.display = "block"; // Show popup
    }

    function hideInstructionPopup() {
      const overlay = document.getElementById("popupOverlay");
      const popup = document.getElementById("instructionPopup");

      overlay.style.display = "none"; // Hide overlay
      popup.style.display = "none"; // Hide popup
    }

    document.addEventListener("DOMContentLoaded", () => {
      const neverShowAgainCheckbox = document.getElementById("neverShowAgain");
      const closePopupButton = document.getElementById("closePopup");
      const instructionShown = localStorage.getItem('instructionShown');

      if (!instructionShown) {
        showInstructionPopup();
      }

      neverShowAgainCheckbox.addEventListener("change", (e) => {
        if (e.target.checked) {
          localStorage.setItem('instructionShown', 'true');
        }
      });

      closePopupButton.addEventListener("click", hideInstructionPopup);

      // ooooooooooooooooooooooooooooooooooooooooooo
      function getCurrentTimeInMinutes() {
        const now = new Date();
        return now.getHours() * 60 + now.getMinutes();
      }

      function loadRoutine() {
        const storedRoutine = JSON.parse(localStorage.getItem('routine')) || routineData;
        const currentTimeInMinutes = getCurrentTimeInMinutes();

        // Sort the routine by time, so the upcoming activity appears first
        const sortedRoutine = storedRoutine.sort((a, b) => {
          const timeA = parseInt(a.time.split(':')[0]) * 60 + parseInt(a.time.split(':')[1]);
          const timeB = parseInt(b.time.split(':')[0]) * 60 + parseInt(b.time.split(':')[1]);

          const diffA = timeA - currentTimeInMinutes;
          const diffB = timeB - currentTimeInMinutes;

          return (diffA < 0 ? diffA + 1440 : diffA) - (diffB < 0 ? diffB + 1440 : diffB); // Handling negative time differences
        });

        return sortedRoutine;
      }

      // ooooooooooooooooooooooooooooooooooooooooooo

      // Display current time in the clock
      function updateClock() {
        const now = new Date();
        const timeString = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        document.getElementById("clock").textContent = timeString;
      }

      setInterval(updateClock, 1000); // Update every second

      // Load and render routine
      const routine = loadRoutine();
      renderRoutineCards(routine);
    });
  </script>
</body>

</html>
